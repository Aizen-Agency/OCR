# Flask Configuration
FLASK_ENV=development
SECRET_KEY=dev-secret-key-for-local-development
DEBUG=true

# Server Configuration
HOST=0.0.0.0
PORT=5000

# OCR Configuration
OCR_LANG=en
USE_GPU=false
USE_PP_OCR_V5_SERVER=true

# PaddleOCR v5 Performance Settings (Optimized for 24GB VPS)
USE_ANGLE_CLS=true              # Enable angle classification for rotated text
DET_LIMIT_SIDE_LEN=1280         # Detection limit: 960 (fast), 1280 (balanced), 1920 (accurate)
REC_BATCH_NUM=8                 # Batch size: 6 (8GB), 8 (24GB), 12 (32GB+)
DET_DB_THRESH=0.3               # Detection threshold (0.1-0.5, lower = more detections)
DET_DB_BOX_THRESH=0.6           # Box threshold (0.3-0.9, higher = stricter filtering)
DROP_SCORE=0.5                  # Minimum confidence score (0.0-1.0)

# Redis Configuration
# Option 1: Direct connection parameters (preferred - avoids URL parsing issues)
# SECURITY: Set a strong password for production (minimum 32 characters)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_USERNAME=default
REDIS_PASSWORD=change-this-redis-password-in-production
REDIS_DB=0

# Option 2: URL-based connection (fallback for backward compatibility)
# If REDIS_URL is set, it will be used instead of individual parameters
# Format: redis://:password@host:port/db or redis://username:password@host:port/db
# REDIS_URL=redis://:change-this-redis-password-in-production@localhost:6379/0

REDIS_CACHE_TTL=3600

# Celery Configuration
# Celery will automatically use the centralized Redis connection manager
# These can be overridden if needed, but typically not required
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Rate Limiting Configuration
RATE_LIMIT_PER_MINUTE=10

# API Key Authentication
# SECURITY: API key required for /ocr/* endpoints (health endpoints excluded)
# Set this to a strong random token in production
AUTH_TOKEN=1QHRD48KoetalQhxg14KwMe1MKjRw7Mbj9BwlBUm74M=

# File Upload Configuration
MAX_CONTENT_LENGTH=52428800  # 50MB in bytes
UPLOAD_FOLDER=/tmp/ocr_uploads

# Image Processing Limits
MAX_IMAGE_WIDTH=4096
MAX_IMAGE_HEIGHT=4096

# PDF Processing Limits
MAX_PDF_SIZE=52428800  # 50MB in bytes
MAX_PDF_PAGES=100
DEFAULT_DPI=300
MAX_DPI=600
MIN_DPI=72

# Performance Settings
MAX_WORKERS=4
REQUEST_TIMEOUT=300  # 5 minutes

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Health Check Configuration
MIN_CONFIDENCE=0.0
